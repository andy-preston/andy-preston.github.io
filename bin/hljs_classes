#!/bin/bash

# cSpell:words hljs

USED_CLASSES=$(
    find _site/ -name \*.html -exec grep 'hljs-' {} \; | \
        sed -e 's/hljs-[[:alpha:]]\+/\n\0\n/g' | \
        grep hljs- | \
        sort | \
        uniq
)

for CLASS in $USED_CLASSES
do
    if grep -q $CLASS style/_code.css
    then
        echo "${CLASS} covered"
    else
        echo "${CLASS} missing"
        find _site/ -name \*.html -exec grep -H ${CLASS} {} \;
    fi
done
